<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>POS System - SYOS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/glass-morphism.css">
    <style>
        .pos-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .pos-section {
            background: var(--glass-bg-light);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 2rem;
            box-shadow: var(--glass-shadow);
            transition: var(--transition-bounce);
        }

        .pos-section:hover {
            transform: translateY(-5px);
            box-shadow: var(--glass-shadow-hover);
        }

        .floating-shapes {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }

        .shape {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 15s ease-in-out infinite;
        }

        .shape:nth-child(1) { width: 120px; height: 120px; top: 15%; left: 10%; animation-delay: 0s; }
        .shape:nth-child(2) { width: 80px; height: 80px; top: 70%; left: 80%; animation-delay: 5s; }
        .shape:nth-child(3) { width: 100px; height: 100px; top: 80%; left: 20%; animation-delay: 10s; }

        .quick-action-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .item-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .item-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 1rem;
            text-align: center;
            transition: var(--transition-smooth);
        }

        .item-card:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--glass-shadow);
        }

        .cart-summary {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        @media (max-width: 768px) {
            .pos-grid {
                grid-template-columns: 1fr;
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Background Shapes -->
    <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <!-- Header -->
    <header class="glass-header">
        <div style="max-width: 1200px; margin: 0 auto; padding: 1.5rem 2rem; display: flex; justify-content: space-between; align-items: center;">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <div class="glass-icon" style="width: 50px; height: 50px; font-size: 1.5rem; background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">üè™</div>
                <div>
                    <h1 class="text-glass" style="font-size: 1.8rem; font-weight: 700; margin: 0;">POS System</h1>
                    <p class="text-glass-muted" style="font-size: 0.9rem; margin: 0;">Point of Sale Terminal</p>
                </div>
            </div>
            <div style="display: flex; align-items: center; gap: 1rem;">
                <div class="glass-btn glass-btn-success" style="padding: 0.5rem 1rem; font-size: 0.8rem;">
                    üí≥ Terminal Active
                </div>
                <a href="cashier-dashboard.html" class="glass-btn glass-btn-primary">
                    üè† Dashboard
                </a>
            </div>
        </div>
    </header>

    <div class="pos-grid fade-in">
        <!-- Left Column - Product Selection -->
        <div class="pos-section scale-in">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                <div class="glass-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">üì¶</div>
                <div>
                    <h2 class="text-glass" style="font-weight: 600; font-size: 1.4rem; margin: 0;">Product Selection</h2>
                    <p class="text-glass-muted" style="font-size: 0.9rem; margin: 0;">Browse and add items to cart</p>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-action-grid">
                <button onclick="scanBarcode()" class="glass-btn glass-btn-primary" style="justify-content: center;">
                    üì∑ Scan Barcode
                </button>
                <button onclick="searchItems()" class="glass-btn glass-btn-secondary" style="justify-content: center;">
                    üîç Search Items
                </button>
            </div>

            <!-- Featured Items -->
            <h3 class="text-glass mt-4 mb-2" style="font-weight: 600;">üî• Popular Items</h3>
            <div class="item-grid" id="itemGrid">
                <div class="item-card" onclick="addItemToCart('ITEM001', 'Premium Coffee', 4.99)">
                    <div class="glass-icon" style="width: 40px; height: 40px; margin: 0 auto 0.5rem; background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">‚òï</div>
                    <h4 class="text-glass" style="font-weight: 600; font-size: 0.9rem;">Premium Coffee</h4>
                    <p class="text-glass-muted" style="font-size: 0.8rem;">ITEM001</p>
                    <div class="text-glass" style="font-weight: 600; margin-top: 0.5rem;">$4.99</div>
                </div>

                <div class="item-card" onclick="addItemToCart('ITEM002', 'Chocolate Bar', 2.49)">
                    <div class="glass-icon" style="width: 40px; height: 40px; margin: 0 auto 0.5rem; background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">üç´</div>
                    <h4 class="text-glass" style="font-weight: 600; font-size: 0.9rem;">Chocolate Bar</h4>
                    <p class="text-glass-muted" style="font-size: 0.8rem;">ITEM002</p>
                    <div class="text-glass" style="font-weight: 600; margin-top: 0.5rem;">$2.49</div>
                </div>

                <div class="item-card" onclick="addItemToCart('ITEM003', 'Energy Drink', 3.99)">
                    <div class="glass-icon" style="width: 40px; height: 40px; margin: 0 auto 0.5rem; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">‚ö°</div>
                    <h4 class="text-glass" style="font-weight: 600; font-size: 0.9rem;">Energy Drink</h4>
                    <p class="text-glass-muted" style="font-size: 0.8rem;">ITEM003</p>
                    <div class="text-glass" style="font-weight: 600; margin-top: 0.5rem;">$3.99</div>
                </div>

                <div class="item-card" onclick="addItemToCart('ITEM004', 'Snack Pack', 5.99)">
                    <div class="glass-icon" style="width: 40px; height: 40px; margin: 0 auto 0.5rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">ü•®</div>
                    <h4 class="text-glass" style="font-weight: 600; font-size: 0.9rem;">Snack Pack</h4>
                    <p class="text-glass-muted" style="font-size: 0.8rem;">ITEM004</p>
                    <div class="text-glass" style="font-weight: 600; margin-top: 0.5rem;">$5.99</div>
                </div>
            </div>

            <div class="mt-3">
                <a href="pos/items" class="glass-btn glass-btn-success" style="width: 100%; justify-content: center; text-decoration: none;">
                    üìã Browse All Items
                </a>
            </div>
        </div>

        <!-- Right Column - Cart and Checkout -->
        <div class="pos-section scale-in">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                <div class="glass-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">üõí</div>
                <div>
                    <h2 class="text-glass" style="font-weight: 600; font-size: 1.4rem; margin: 0;">Current Cart</h2>
                    <p class="text-glass-muted" style="font-size: 0.9rem; margin: 0;">Items ready for checkout</p>
                </div>
            </div>

            <!-- Cart Summary -->
            <div class="cart-summary">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <span class="text-glass" style="font-weight: 600;">Cart Items</span>
                    <span class="glass-btn glass-btn-primary" style="padding: 0.25rem 0.75rem; font-size: 0.8rem;" id="itemCount">0</span>
                </div>

                <div id="cartItems" style="max-height: 200px; overflow-y: auto;">
                    <div class="text-center text-glass-muted" style="padding: 2rem;">
                        <div class="glass-icon" style="margin: 0 auto 1rem; opacity: 0.5;">üõí</div>
                        <p>No items in cart</p>
                        <p style="font-size: 0.8rem;">Scan or select items to add</p>
                    </div>
                </div>

                <div style="border-top: 1px solid rgba(255,255,255,0.2); padding-top: 1rem; margin-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span class="text-glass" style="font-weight: 600; font-size: 1.1rem;">Total:</span>
                        <span class="text-glass" style="font-weight: 700; font-size: 1.3rem;" id="cartTotal">$0.00</span>
                    </div>
                </div>
            </div>

            <!-- Cart Actions -->
            <div style="display: grid; gap: 1rem;">
                <a href="cart/view" class="glass-btn glass-btn-secondary" style="text-decoration: none; justify-content: center;">
                    üìã View Full Cart
                </a>

                <button onclick="clearCart()" class="glass-btn glass-btn-warning" style="justify-content: center;">
                    üóëÔ∏è Clear Cart
                </button>

                <a href="pos-checkout.html" class="glass-btn glass-btn-success" style="text-decoration: none; justify-content: center; padding: 1rem; font-size: 1.1rem;">
                    üí≥ Proceed to Checkout
                </a>
            </div>

            <!-- POS Tools -->
            <div class="mt-4">
                <h4 class="text-glass mb-2" style="font-weight: 600;">‚ö° Quick Tools</h4>
                <div class="quick-action-grid">
                    <button onclick="holdTransaction()" class="glass-btn glass-btn-primary" style="justify-content: center; font-size: 0.85rem;">
                        ‚è∏Ô∏è Hold
                    </button>
                    <button onclick="voidTransaction()" class="glass-btn glass-btn-danger" style="justify-content: center; font-size: 0.85rem;">
                        ‚ùå Void
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let cart = [];
        let cartTotal = 0;

        // Initialize POS system
        document.addEventListener('DOMContentLoaded', function() {
            updateCartDisplay();
            setupKeyboardShortcuts();
        });

        // Add item to cart
        function addItemToCart(code, name, price) {
            const existingItem = cart.find(item => item.code === code);

            if (existingItem) {
                existingItem.quantity++;
                existingItem.total = existingItem.price * existingItem.quantity;
            } else {
                cart.push({
                    code: code,
                    name: name,
                    price: price,
                    quantity: 1,
                    total: price
                });
            }

            updateCartDisplay();
            showNotification(`${name} added to cart`, 'success');
        }

        // Update cart display
        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            const itemCount = document.getElementById('itemCount');
            const cartTotalEl = document.getElementById('cartTotal');

            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="text-center text-glass-muted" style="padding: 2rem;">
                        <div class="glass-icon" style="margin: 0 auto 1rem; opacity: 0.5;">üõí</div>
                        <p>No items in cart</p>
                        <p style="font-size: 0.8rem;">Scan or select items to add</p>
                    </div>
                `;
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <div>
                            <div class="text-glass" style="font-weight: 600; font-size: 0.9rem;">${item.name}</div>
                            <div class="text-glass-muted" style="font-size: 0.8rem;">${item.code} - Qty: ${item.quantity}</div>
                        </div>
                        <div class="text-glass" style="font-weight: 600;">$${item.total.toFixed(2)}</div>
                    </div>
                `).join('');
            }

            cartTotal = cart.reduce((sum, item) => sum + item.total, 0);
            itemCount.textContent = cart.length;
            cartTotalEl.textContent = '$' + cartTotal.toFixed(2);
        }

        // POS Functions
        function scanBarcode() {
            const barcode = prompt('Enter barcode or item code:');
            if (barcode) {
                // Simulate barcode lookup
                addItemToCart(barcode, 'Scanned Item', 9.99);
            }
        }

        function searchItems() {
            const search = prompt('Search for items:');
            if (search) {
                showNotification(`Searching for "${search}"...`, 'warning');
                // In real implementation, this would open a search interface
            }
        }

        function clearCart() {
            if (cart.length > 0 && confirm('Clear all items from cart?')) {
                cart = [];
                updateCartDisplay();
                showNotification('Cart cleared', 'warning');
            }
        }

        function holdTransaction() {
            if (cart.length > 0) {
                showNotification('Transaction held', 'success');
                // In real implementation, this would save the transaction
            }
        }

        function voidTransaction() {
            if (cart.length > 0 && confirm('Void entire transaction?')) {
                cart = [];
                updateCartDisplay();
                showNotification('Transaction voided', 'error');
            }
        }

        // Keyboard shortcuts
        function setupKeyboardShortcuts() {
            document.addEventListener('keydown', function(e) {
                if (e.target.tagName === 'INPUT') return;

                switch(e.key) {
                    case 'F1':
                        e.preventDefault();
                        scanBarcode();
                        break;
                    case 'F2':
                        e.preventDefault();
                        searchItems();
                        break;
                    case 'F3':
                        e.preventDefault();
                        clearCart();
                        break;
                    case 'F4':
                        e.preventDefault();
                        window.location.href = 'pos-checkout.html';
                        break;
                }
            });
        }

        // Show notification
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `glass-alert glass-alert-${type}`;
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.zIndex = '9999';
            notification.style.minWidth = '250px';
            notification.innerHTML = `<span>${message}</span>`;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    if (notification.parentNode) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 2000);
        }

        // Auto-refresh cart data every 30 seconds
        setInterval(() => {
            // In real implementation, this would sync with server
        }, 30000);
    </script>
</body>
</html>
